{"version":3,"sources":["webpack://flavor-safety/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://flavor-safety/./node_modules/react-bootstrap/esm/ListGroup.js","webpack://flavor-safety/./node_modules/react-bootstrap/esm/ListGroupItem.js","webpack://flavor-safety/./src/components/IngredientCard.js","webpack://flavor-safety/./src/pages/ingredients.js"],"names":["_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","defaultProps","variant","undefined","horizontal","ListGroup","ref","horizontalVariant","_useUncontrolled","activeKey","className","initialBsPrefix","bsPrefix","_useUncontrolled$as","as","controlledProps","displayName","Item","active","disabled","ListGroupItem","_ref","action","eventKey","onClick","handleClick","useCallback","event","preventDefault","stopPropagation","tabIndex","href","IngredientCard","render","this","casNumber","category","name","rel","icon","faExternalLinkAlt","size","badgeProps","times","description","links","vendors","flavors","Fragment","map","link","title","created","updated","getRelativeTime","flavor","Link","vendor","to","getFlavorSlug","getCategoryVariant","code","getVendorSlug","Component","IngredientsPage","data","nodes","ingredients","state","ingredient","ingredientFlavors","filter","casNumbers","includes","ingredientVendors","some","ingredientFlavor","sort","a","b","localeCompare"],"mappings":"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","file":"component---src-pages-ingredients-js-8cdf942bf1e978efbb65.js","sourcesContent":["function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AbstractNav from './AbstractNav';\nimport ListGroupItem from './ListGroupItem';\nvar defaultProps = {\n  variant: undefined,\n  horizontal: undefined\n};\nvar ListGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      className = _useUncontrolled.className,\n      initialBsPrefix = _useUncontrolled.bsPrefix,\n      variant = _useUncontrolled.variant,\n      horizontal = _useUncontrolled.horizontal,\n      _useUncontrolled$as = _useUncontrolled.as,\n      as = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, [\"className\", \"bsPrefix\", \"variant\", \"horizontal\", \"as\"]);\n\n  var bsPrefix = useBootstrapPrefix(initialBsPrefix, 'list-group');\n  var horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : \"horizontal-\" + horizontal;\n  } else {\n    horizontalVariant = null;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/React.createElement(AbstractNav, _extends({\n    ref: ref\n  }, controlledProps, {\n    as: as,\n    className: classNames(className, bsPrefix, variant && bsPrefix + \"-\" + variant, horizontalVariant && bsPrefix + \"-\" + horizontalVariant)\n  }));\n});\nListGroup.defaultProps = defaultProps;\nListGroup.displayName = 'ListGroup';\nListGroup.Item = ListGroupItem;\nexport default ListGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport AbstractNavItem from './AbstractNavItem';\nimport { makeEventKey } from './SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: undefined,\n  active: false,\n  disabled: false\n};\nvar ListGroupItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      variant = _ref.variant,\n      action = _ref.action,\n      as = _ref.as,\n      eventKey = _ref.eventKey,\n      onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"active\", \"disabled\", \"className\", \"variant\", \"action\", \"as\", \"eventKey\", \"onClick\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  var handleClick = useCallback(function (event) {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) onClick(event);\n  }, [disabled, onClick]);\n\n  if (disabled && props.tabIndex === undefined) {\n    props.tabIndex = -1;\n    props['aria-disabled'] = true;\n  }\n\n  return /*#__PURE__*/React.createElement(AbstractNavItem, _extends({\n    ref: ref\n  }, props, {\n    // TODO: Restrict eventKey to string in v5?\n    eventKey: makeEventKey(eventKey, props.href) // eslint-disable-next-line no-nested-ternary\n    ,\n    as: as || (action ? props.href ? 'a' : 'button' : 'div'),\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, active && 'active', disabled && 'disabled', variant && bsPrefix + \"-\" + variant, action && bsPrefix + \"-action\")\n  }));\n});\nListGroupItem.defaultProps = defaultProps;\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faExternalLinkAlt } from '@fortawesome/free-solid-svg-icons';\nimport { Card, ListGroup, ListGroupItem } from 'react-bootstrap';\n\nimport CategoryInfo from '~components/CategoryInfo';\nimport {\n  getCategoryVariant,\n  getFlavorSlug,\n  getVendorSlug,\n  getRelativeTime\n} from '~utils';\n\nexport default class IngredientCard extends Component {\n  static propTypes = {\n    casNumber: PropTypes.string.isRequired,\n    category: PropTypes.string.isRequired,\n    created: PropTypes.string.isRequired,\n    description: PropTypes.string,\n    links: PropTypes.arrayOf(\n      PropTypes.shape({\n        title: PropTypes.string.isRequired,\n        href: PropTypes.string.isRequired\n      })\n    ),\n    name: PropTypes.string.isRequired,\n    flavors: PropTypes.arrayOf(PropTypes.object),\n    updated: PropTypes.string.isRequired,\n    vendors: PropTypes.arrayOf(PropTypes.object)\n  };\n\n  get links() {\n    const { links } = this.props;\n\n    return links?.length ? (\n      <Fragment>\n        <h6>More Reading</h6>\n        <ListGroup className=\"my-3\" activeKey=\"\">\n          {links.map((link) => (\n            <ListGroupItem\n              action\n              key={link.href}\n              href={link.href}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {link.title} <FontAwesomeIcon icon={faExternalLinkAlt} />\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Fragment>\n    ) : null;\n  }\n\n  get times() {\n    const { created, updated } = this.props;\n\n    return (\n      <Fragment>\n        {' '}\n        <h6>\n          Added <abbr title={created}>{getRelativeTime(created)}</abbr>\n        </h6>\n        {updated && created !== updated ? (\n          <h6>\n            Updated <abbr title={updated}></abbr>\n            {getRelativeTime(updated)}\n          </h6>\n        ) : null}\n      </Fragment>\n    );\n  }\n\n  get description() {\n    const { description } = this.props;\n\n    return description ? (\n      <Fragment>\n        <h6>Information / Notes</h6>\n        <p>{description}</p>\n      </Fragment>\n    ) : null;\n  }\n\n  get flavors() {\n    const { flavors } = this.props;\n\n    return flavors?.length ? (\n      <Fragment>\n        <h6 className=\"mb-3\">\n          Flavors with this ingredient ({flavors.length})\n        </h6>\n        <ListGroup>\n          {flavors.map((flavor) => (\n            <ListGroupItem\n              action\n              as={Link}\n              key={`${flavor.vendor} ${flavor.name}`}\n              to={getFlavorSlug(flavor)}\n              variant={getCategoryVariant(flavor.category)}\n            >\n              {flavor.vendor} {flavor.name}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Fragment>\n    ) : null;\n  }\n\n  get vendors() {\n    const { vendors } = this.props;\n\n    return vendors?.length ? (\n      <Fragment>\n        <h6>Vendors using this ingredient ({vendors.length})</h6>\n        <ListGroup className=\"my-3\">\n          {vendors.map((vendor) => (\n            <ListGroupItem\n              action\n              as={Link}\n              key={vendor.code}\n              to={getVendorSlug(vendor)}\n            >\n              {vendor.name}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Fragment>\n    ) : null;\n  }\n\n  render() {\n    const { casNumber, category, name } = this.props;\n\n    return (\n      <Card className=\"my-3\">\n        <Card.Header>\n          <h3>\n            <span>\n              {name} (CAS #\n              <a\n                href={`http://www.commonchemistry.org/ChemicalDetail.aspx?ref=${casNumber}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {casNumber}{' '}\n                <FontAwesomeIcon icon={faExternalLinkAlt} size=\"xs\" />\n              </a>\n              )\n            </span>\n            <CategoryInfo\n              category={category}\n              badgeProps={{ className: 'float-right' }}\n            />\n          </h3>\n        </Card.Header>\n        <Card.Body>\n          {this.times}\n          {this.description}\n          {this.links}\n          {this.vendors}\n          {this.flavors}\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n","import { graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Container, Row } from 'react-bootstrap';\n\nimport Layout from '~components/Layout';\nimport SEO from '~components/SEO';\nimport IngredientCard from '~components/IngredientCard';\n\nexport default class IngredientsPage extends Component {\n  static propTypes = {\n    data: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {\n      data: {\n        flavors: { nodes: flavors },\n        ingredients: { nodes: ingredients },\n        vendors: { nodes: vendors }\n      }\n    } = this.props;\n\n    this.state = {\n      ingredients: ingredients.map((ingredient) => {\n        const ingredientFlavors = flavors.filter((flavor) =>\n          flavor.casNumbers.includes(ingredient.casNumber)\n        );\n        const ingredientVendors = vendors.filter((vendor) =>\n          ingredientFlavors.some(\n            (ingredientFlavor) => ingredientFlavor.vendor === vendor.code\n          )\n        );\n\n        return {\n          ...ingredient,\n          flavors: ingredientFlavors,\n          vendors: ingredientVendors\n        };\n      })\n    };\n\n    this.state.ingredients.sort(\n      (a, b) =>\n        a.category.localeCompare(b.category) || a.name.localeCompare(b.name)\n    );\n  }\n\n  render() {\n    const { ingredients } = this.state;\n\n    return (\n      <Layout>\n        <SEO title=\"Ingredient Info\" />\n        <Container>\n          <Row>\n            <h1>Ingredient Info</h1>\n          </Row>\n          {ingredients.map((ingredient) => (\n            <IngredientCard\n              {...ingredient}\n              key={ingredient.casNumber}\n              flavors={ingredient.flavors}\n              vendors={ingredient.vendors}\n            />\n          ))}\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport const query = graphql`\n  query IngredientsSearchQuery {\n    flavors: allFlavorsJson {\n      nodes {\n        casNumbers\n        name\n        vendor\n      }\n    }\n    ingredients: allIngredientsJson {\n      nodes {\n        casNumber\n        category\n        created\n        description\n        links {\n          href\n          title\n        }\n        name\n        updated\n      }\n    }\n    vendors: allVendorsJson {\n      nodes {\n        code\n        name\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}