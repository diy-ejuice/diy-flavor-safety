{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.array.flat-map.js","webpack:///./node_modules/react-bootstrap/esm/ListGroupItem.js","webpack:///./src/pages/vendors.js","webpack:///./node_modules/react-bootstrap/esm/ListGroup.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./node_modules/core-js/modules/_flatten-into-array.js","webpack:///./src/components/VendorCard.js"],"names":["$export","flattenIntoArray","toObject","toLength","aFunction","arraySpeciesCreate","P","flatMap","callbackfn","sourceLen","A","O","this","length","arguments","ListGroupItem","forwardRef","_ref","ref","bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick","props","handleClick","event","preventDefault","stopPropagation","createElement","href","defaultProps","displayName","VendorsPage","data","flavors","nodes","ingredients","vendors","state","vendor","vendorFlavors","filter","flavor","code","vendorIngredients","ingredient","some","vendorFlavor","casNumbers","includes","casNumber","sort","a","b","name","localeCompare","render","title","map","key","Component","query","ListGroup","horizontalVariant","_useUncontrolled","activeKey","horizontal","_useUncontrolled$as","controlledProps","Item","createHTML","url","isArray","isObject","ctx","IS_CONCAT_SPREADABLE","module","exports","target","original","source","start","depth","mapper","thisArg","element","spreadable","targetIndex","sourceIndex","mapFn","undefined","TypeError","VendorCard","link","flavorCount","Header","rel","Body","description","Link","to","getFlavorSlug","sortedIngredients","category","toLowerCase","getIngredientSlug","getCategoryVariant"],"mappings":"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","file":"component---src-pages-vendors-js-e15dc98da4cd1d9983aa.js","sourcesContent":["'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-Array.prototype.flatMap\nvar $export = require('./_export');\nvar flattenIntoArray = require('./_flatten-into-array');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar aFunction = require('./_a-function');\nvar arraySpeciesCreate = require('./_array-species-create');\n\n$export($export.P, 'Array', {\n  flatMap: function flatMap(callbackfn /* , thisArg */) {\n    var O = toObject(this);\n    var sourceLen, A;\n    aFunction(callbackfn);\n    sourceLen = toLength(O.length);\n    A = arraySpeciesCreate(O, 0);\n    flattenIntoArray(A, O, O, sourceLen, 0, 1, callbackfn, arguments[1]);\n    return A;\n  }\n});\n\nrequire('./_add-to-unscopables')('flatMap');\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport AbstractNavItem from './AbstractNavItem';\nimport { makeEventKey } from './SelectableContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: null,\n  active: false,\n  disabled: false\n};\nvar ListGroupItem = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      disabled = _ref.disabled,\n      className = _ref.className,\n      variant = _ref.variant,\n      action = _ref.action,\n      as = _ref.as,\n      eventKey = _ref.eventKey,\n      onClick = _ref.onClick,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"active\", \"disabled\", \"className\", \"variant\", \"action\", \"as\", \"eventKey\", \"onClick\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group-item');\n  var handleClick = useCallback(function (event) {\n    if (disabled) {\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n\n    if (onClick) onClick(event);\n  }, [disabled, onClick]);\n  return /*#__PURE__*/React.createElement(AbstractNavItem, _extends({\n    ref: ref\n  }, props, {\n    eventKey: makeEventKey(eventKey, props.href) // eslint-disable-next-line\n    ,\n    as: as || (action ? props.href ? 'a' : 'button' : 'div'),\n    onClick: handleClick,\n    className: classNames(className, bsPrefix, active && 'active', disabled && 'disabled', variant && bsPrefix + \"-\" + variant, action && bsPrefix + \"-action\")\n  }));\n});\nListGroupItem.defaultProps = defaultProps;\nListGroupItem.displayName = 'ListGroupItem';\nexport default ListGroupItem;","import { graphql } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Container, Row } from 'react-bootstrap';\n\nimport Layout from '~components/Layout';\nimport SEO from '~components/SEO';\nimport VendorCard from '~components/VendorCard';\n\nexport default class VendorsPage extends Component {\n  static propTypes = {\n    data: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n\n    const {\n      data: {\n        flavors: { nodes: flavors },\n        ingredients: { nodes: ingredients },\n        vendors: { nodes: vendors }\n      }\n    } = this.props;\n\n    this.state = {\n      vendors: vendors.flatMap((vendor) => {\n        const vendorFlavors = flavors.filter(\n          (flavor) => flavor.vendor === vendor.code\n        );\n        const vendorIngredients = ingredients.filter((ingredient) =>\n          vendorFlavors.some((vendorFlavor) =>\n            vendorFlavor.casNumbers.includes(ingredient.casNumber)\n          )\n        );\n\n        return vendorFlavors.length\n          ? [\n              {\n                ...vendor,\n                flavors: vendorFlavors,\n                ingredients: vendorIngredients\n              }\n            ]\n          : [];\n      })\n    };\n\n    this.state.vendors.sort((a, b) => a.name.localeCompare(b.name));\n  }\n\n  render() {\n    const { vendors } = this.state;\n\n    return (\n      <Layout>\n        <SEO title=\"Vendor Info\" />\n        <Container>\n          <Row>\n            <h1>Vendor Info</h1>\n          </Row>\n          {vendors.map((vendor) => (\n            <VendorCard\n              {...vendor}\n              key={vendor.code}\n              flavors={vendor.flavors}\n              ingredients={vendor.ingredients}\n            />\n          ))}\n        </Container>\n      </Layout>\n    );\n  }\n}\n\nexport const query = graphql`\n  query VendorsSearchQuery {\n    flavors: allFlavorsJson {\n      nodes {\n        casNumbers\n        name\n        vendor\n      }\n    }\n    ingredients: allIngredientsJson {\n      nodes {\n        casNumber\n        category\n        name\n      }\n    }\n    vendors: allVendorsJson {\n      nodes {\n        code\n        name\n        flavorCount\n      }\n    }\n  }\n`;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport warning from 'warning';\nimport { useUncontrolled } from 'uncontrollable';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport AbstractNav from './AbstractNav';\nimport ListGroupItem from './ListGroupItem';\nvar defaultProps = {\n  variant: null,\n  horizontal: null\n};\nvar ListGroup = React.forwardRef(function (props, ref) {\n  var _useUncontrolled = useUncontrolled(props, {\n    activeKey: 'onSelect'\n  }),\n      className = _useUncontrolled.className,\n      bsPrefix = _useUncontrolled.bsPrefix,\n      variant = _useUncontrolled.variant,\n      horizontal = _useUncontrolled.horizontal,\n      _useUncontrolled$as = _useUncontrolled.as,\n      as = _useUncontrolled$as === void 0 ? 'div' : _useUncontrolled$as,\n      controlledProps = _objectWithoutPropertiesLoose(_useUncontrolled, [\"className\", \"bsPrefix\", \"variant\", \"horizontal\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'list-group');\n  var horizontalVariant;\n\n  if (horizontal) {\n    horizontalVariant = horizontal === true ? 'horizontal' : \"horizontal-\" + horizontal;\n  } else {\n    horizontalVariant = null;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(!(horizontal && variant === 'flush'), '`variant=\"flush\"` and `horizontal` should not be used together.') : void 0;\n  return /*#__PURE__*/React.createElement(AbstractNav, _extends({\n    ref: ref\n  }, controlledProps, {\n    as: as,\n    className: classNames(className, bsPrefix, variant && bsPrefix + \"-\" + variant, horizontalVariant && bsPrefix + \"-\" + horizontalVariant)\n  }));\n});\nListGroup.defaultProps = defaultProps;\nListGroup.displayName = 'ListGroup';\nListGroup.Item = ListGroupItem;\nexport default ListGroup;","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","'use strict';\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar isArray = require('./_is-array');\nvar isObject = require('./_is-object');\nvar toLength = require('./_to-length');\nvar ctx = require('./_ctx');\nvar IS_CONCAT_SPREADABLE = require('./_wks')('isConcatSpreadable');\n\nfunction flattenIntoArray(target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? ctx(mapper, thisArg, 3) : false;\n  var element, spreadable;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      spreadable = false;\n      if (isObject(element)) {\n        spreadable = element[IS_CONCAT_SPREADABLE];\n        spreadable = spreadable !== undefined ? !!spreadable : isArray(element);\n      }\n\n      if (spreadable && depth > 0) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1fffffffffffff) throw TypeError();\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n}\n\nmodule.exports = flattenIntoArray;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { Card, ListGroupItem, ListGroup, Badge } from 'react-bootstrap';\n\nimport { getCategoryVariant, getFlavorSlug, getIngredientSlug } from '~utils';\n\nexport default class VendorCard extends Component {\n  static propTypes = {\n    name: PropTypes.string.isRequired,\n    code: PropTypes.string.isRequired,\n    flavorCount: PropTypes.number.isRequired,\n    link: PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      href: PropTypes.string.isRequired\n    }),\n    description: PropTypes.string,\n    flavors: PropTypes.arrayOf(PropTypes.object),\n    ingredients: PropTypes.arrayOf(PropTypes.object)\n  };\n\n  get description() {\n    const { description } = this.props;\n\n    return description ? <p>{description}</p> : null;\n  }\n\n  get flavors() {\n    const { flavors } = this.props;\n\n    return flavors?.length ? (\n      <Fragment>\n        <h6 className=\"my-3\">\n          Flavors with concerning ingredients ({flavors.length})\n        </h6>\n        <ListGroup activeKey=\"\">\n          {flavors.map((flavor) => (\n            <ListGroupItem\n              action\n              as={Link}\n              key={flavor.name}\n              to={getFlavorSlug(flavor)}\n            >\n              {flavor.name}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Fragment>\n    ) : null;\n  }\n\n  get ingredients() {\n    const { ingredients } = this.props;\n\n    const sortedIngredients = [...ingredients];\n\n    sortedIngredients.sort(\n      (a, b) =>\n        a.category.toLowerCase().localeCompare(b.category.toLowerCase()) ||\n        a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n    );\n\n    return sortedIngredients?.length ? (\n      <Fragment>\n        <h6 className=\"my-3\">\n          Ingredients used by this vendor ({sortedIngredients.length})\n        </h6>\n        <ListGroup activeKey=\"\">\n          {sortedIngredients.map((ingredient) => (\n            <ListGroupItem\n              action\n              as={Link}\n              key={ingredient.casNumber}\n              to={getIngredientSlug(ingredient)}\n              variant={getCategoryVariant(ingredient.category)}\n            >\n              {ingredient.name}\n            </ListGroupItem>\n          ))}\n        </ListGroup>\n      </Fragment>\n    ) : null;\n  }\n\n  render() {\n    const { code, link, name, flavorCount } = this.props;\n\n    return (\n      <Card className=\"my-3\">\n        <Card.Header>\n          <h3>\n            <span>{name}</span>\n            {link ? (\n              <span className=\"ml-auto\">\n                <a href={link.href} target=\"_blank\" rel=\"noopener noreferrer\">\n                  {link.title}\n                </a>\n              </span>\n            ) : null}\n            <span> ({code})</span>\n            <Badge variant=\"secondary\" className=\"float-right\">\n              {flavorCount} flavors\n            </Badge>\n          </h3>\n        </Card.Header>\n        <Card.Body>\n          {this.description}\n          {this.flavors}\n          {this.ingredients}\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n"],"sourceRoot":""}